<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <title>Dialekt Parser Demo</title>
        <link rel="stylesheet" type="text/css" href="css/style.css">
        <script src="js/app.js"></script>
    </head>
    <body>
        <div class="container">
            <section>
                <h1>Dialekt Expression Parser</h1>
                    <p>
                        This page demonstrates how tag expressions are parsed to generate an abstract syntax tree (AST) and how
                        the built-in evaluator applies to sets of tags. The AST can be traversed to produce the desired output,
                        for example an SQL "WHERE" clause that finds entries with the matching tags.
                    </p>
                    <p>
                        In the <strong>Dialekt Expression</strong> field, enter a list of tags separated by spaces.
                        Optionally use the <strong>AND</strong>, <strong>OR</strong> and <strong>NOT</strong> keywords to
                        perform boolean operations. Expressions grouped in brackets are evaluated first.
                    </p>
                    <p>
                        By default, two adjacent tags are treated as an <strong>AND</strong> operation. This behavior can be
                        changed by selecting the checkbox below.
                    </p>
                        <input id="expr" type="text" name="expr" placeholder="Dialekt expression ...">
                    <label>
                        <input id="orByDefault" name="orByDefault" type="checkbox" > Use <strong>OR</strong> operator by default.
                    </label>
                    <p>
                        You can optionally provide a space-separated list of tags to evaluate against the expression.
                    </p>
                    <input id="tags" type="text" value="" name="tags" placeholder="Tag list ...">
                    <button id="submit">Parse &amp; Evaluate</button>
            </section>

            <section id="error">
                <h1 class="error-title"></h1>
                <p class="error-message"></p>
            </section>

            <section id="normalised-expression">
                <h1>Normalized Expression</h1>
                <p>This section displays the expression in normalized form, including any implicit operators, etc.<p>
                <pre class="content"></pre>
            </section>
            <section id="syntax-tree">
                    <h1>Evaluated Syntax Tree</h1>
                    <p>
                        This section displays syntax tree generated by the parser, annotated with the results of evaluating the expression against the given tags.
                    </p>
                    <p>
                        Each sub-expression is marked with a checkmark or cross indicating whether that particular branch of the expression matched the tags. 
                        The individual matching tags are shown in green, unmatched tags are shown in red.
                    </p>
                <div class="content">
                </div>
            </section>        
        </div>
        <footer>
            Powered by <a href="https://github.com/IcecaveStudios/dialekt-js">Dialekt</a><span id="version"></span>
        </footer>
            </body>
        </html>
